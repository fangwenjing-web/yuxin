<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ™ºæ³•çœ¼Â·AIè¯†æ¡ˆ - å›½åº†æ¸¸å›­æ´»åŠ¨</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0c1b33 0%, #2a3b5a 100%);
            color: #fff;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            text-align: center;
        }
        h1 {
            color: #4fc3f7;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }
        .subtitle {
            color: #bb86fc;
            margin-bottom: 25px;
        }
        #start-screen, #game-screen, #success-screen {
            transition: opacity 0.5s ease, transform 0.3s ease;
        }
        #game-screen, #success-screen {
            display: none;
            opacity: 0;
            transform: translateY(20px);
        }
        #game-screen.active, #success-screen.active {
            opacity: 1;
            transform: translateY(0);
        }
        .scenario {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.6;
            min-height: 60px;
        }
        .options {
            display: grid;
            gap: 10px;
            margin: 20px 0;
        }
        button {
            background: linear-gradient(to right, #2196f3, #21cbf3);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }
        button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .option-btn {
            background: rgba(255, 255, 255, 0.1);
            text-align: left;
        }
        .option-btn.correct { animation: flashGreen 1s forwards; }
        .option-btn.incorrect { animation: flashRed 1s forwards; }
        @keyframes flashGreen { to { background: linear-gradient(to right, #00c853, #64dd17); } }
        @keyframes flashRed { to { background: linear-gradient(to right, #ff5252, #ff1744); } }
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            display: none;
            white-space: pre-line; /* ä¿ç•™æ¢è¡Œç¬¦ */
            text-align: left;
        }
        .progress {
            margin-top: 20px;
            font-size: 0.9rem;
            color: #b2ebf2;
        }
        .loading {
            color: #4fc3f7;
            margin: 20px 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¼€å§‹ç•Œé¢ -->
        <div id="start-screen">
            <h1>æ•°æ™ºæ³•çœ¼Â·AIè¯†æ¡ˆ</h1>
            <p class="subtitle">è¿ç»­ç­”å¯¹3é¢˜ï¼ŒæŒ‘æˆ˜æˆåŠŸï¼</p>
            <button id="start-btn">å¼€å§‹æŒ‘æˆ˜</button>
        </div>

        <!-- æ¸¸æˆç•Œé¢ -->
        <div id="game-screen">
            <h2>æ¡ˆä¾‹è¾¨æ</h2>
            <div class="loading" id="loading">åŠ è½½é¢˜ç›®ä¸­...</div>
            <div class="scenario" id="scenario-text"></div>
            <div class="options" id="options-container"></div>
            <div class="feedback" id="feedback-text"></div>
            <div class="progress" id="progress-text">è¿›åº¦: 0/3</div>
        </div>

        <!-- æˆåŠŸç•Œé¢ -->
        <div id="success-screen">
            <h1>ğŸ‰ æŒ‘æˆ˜æˆåŠŸï¼ ğŸ‰</h1>
            <p>æ‚¨å·²è¿ç»­ç­”å¯¹3é¢˜ï¼Œå±•ç°äº†å‡ºè‰²çš„æ•°æ™ºæ³•çœ¼ï¼</p>
            <p>è¯·å‘å·¥ä½œäººå‘˜å‡ºç¤ºæ­¤ç•Œé¢ï¼Œé¢†å–æ‚¨çš„å°ç« ã€‚</p>
            <button id="restart-btn">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        // é¢˜åº“ï¼šæ¡ˆä¾‹ã€é€‰é¡¹ã€æ­£ç¡®ç­”æ¡ˆç´¢å¼•ã€è§£æ
        const questionBank = [
            {
                scenario: "æŸå…¬å¸ä½¿ç”¨AIæ¨¡å‹ç”Ÿæˆäº†ä¸€å¹…ç”»ä½œï¼Œå¹¶å£°ç§°æ‹¥æœ‰å…¶è‘—ä½œæƒã€‚å¦ä¸€å®¶å…¬å¸æœªç»è®¸å¯ä½¿ç”¨äº†è¯¥ç”»ä½œã€‚",
                options: ["è‘—ä½œæƒæ³•", "ä¸“åˆ©æ³•", "å•†æ ‡æ³•"],
                correctIndex: 0,
                explanation: "æ­£ç¡®ç­”æ¡ˆï¼šè‘—ä½œæƒæ³•ã€‚\nè§£æï¼šæ­¤æ¡ˆä¾‹æ¶‰åŠAIç”Ÿæˆç‰©çš„ç‰ˆæƒå½’å±é—®é¢˜ï¼Œæ˜¯å½“å‰è‘—ä½œæƒæ³•é¢†åŸŸçš„å‰æ²¿äº‰è®®ã€‚ç›®å‰ä¸»æµè§‚ç‚¹è®¤ä¸ºAIç”Ÿæˆç‰©ä¸æ„æˆä½œå“ï¼Œä½†å…¶ç”Ÿæˆè¿‡ç¨‹è‹¥åŒ…å«äººçš„ç‹¬åˆ›æ€§é€‰æ‹©ä¸å®‰æ’ï¼Œåˆ™è¯¥éƒ¨åˆ†å¯å—è‘—ä½œæƒæ³•ä¿æŠ¤ã€‚"
            },
            {
                scenario: "ç”¨æˆ·åœ¨æŸå¹³å°æ³¨å†Œæ—¶ï¼Œæœªä»”ç»†é˜…è¯»å°±å‹¾é€‰äº†â€œåŒæ„â€é•¿è¾¾æ•°ä¸‡å­—çš„ç”¨æˆ·åè®®ã€‚åå› è´¦å·çº çº·ï¼Œå¹³å°æ´å¼•åè®®ä¸­æŸè‹›åˆ»æ¡æ¬¾ã€‚",
                options: ["åˆåŒçº çº·ï¼ˆæ ¼å¼æ¡æ¬¾ï¼‰", "ä¾µæƒè´£ä»»", "æ¶ˆè´¹è€…æƒç›Šä¿æŠ¤æ³•"],
                correctIndex: 0,
                explanation: "æ­£ç¡®ç­”æ¡ˆï¼šåˆåŒçº çº·ï¼ˆæ ¼å¼æ¡æ¬¾ï¼‰ã€‚\nè§£æï¼šç”¨æˆ·åè®®å±äºæ ¼å¼åˆåŒã€‚æ ¹æ®ã€Šæ°‘æ³•å…¸ã€‹è§„å®šï¼Œæä¾›æ ¼å¼æ¡æ¬¾çš„ä¸€æ–¹åº”å°½åˆ°æç¤ºè¯´æ˜ä¹‰åŠ¡ï¼Œæœªå±¥è¡Œçš„å¯¹æ–¹å¯ä¸»å¼ è¯¥æ¡æ¬¾ä¸æˆä¸ºåˆåŒå†…å®¹ã€‚è¿™æ¶‰åŠæ ¼å¼æ¡æ¬¾çš„æ•ˆåŠ›é—®é¢˜ã€‚"
            },
            {
                scenario: "æŸæ™ºèƒ½éŸ³ç®±åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­å½•åˆ¶äº†ç”¨æˆ·çš„ä¸€æ®µç§äººå¯¹è¯ï¼Œå¹¶è¢«ä¸Šä¼ åˆ°äº‘ç«¯ç”¨äºç®—æ³•æ”¹è¿›ã€‚",
                options: ["ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•", "ç½‘ç»œå®‰å…¨æ³•", "åˆ‘æ³•ï¼ˆä¾µçŠ¯å…¬æ°‘ä¸ªäººä¿¡æ¯ç½ªï¼‰"],
                correctIndex: 0,
                explanation: "æ­£ç¡®ç­”æ¡ˆï¼šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‚\nè§£æï¼šæ­¤è¡Œä¸ºé¦–å…ˆè¿åäº†ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ä¸­å…³äºâ€œå‘ŠçŸ¥-åŒæ„â€çš„æ ¸å¿ƒåŸåˆ™ï¼Œæœªç»ç”¨æˆ·æ˜ç¡®åŒæ„æ”¶é›†ã€å¤„ç†å…¶ä¸ªäººæ•æ„Ÿä¿¡æ¯ï¼ˆè¯­éŸ³ï¼‰ã€‚åŒæ—¶ä¹Ÿå¯èƒ½è¿åã€Šç½‘ç»œå®‰å…¨æ³•ã€‹çš„æ•°æ®å®‰å…¨è§„å®šï¼Œæƒ…èŠ‚ä¸¥é‡å¯æ¶‰åŠåˆ‘äº‹çŠ¯ç½ªã€‚"
            },
            {
                scenario: "ä¸€æ¬¾è‡ªåŠ¨é©¾é©¶æ±½è½¦åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå› ç®—æ³•å†³ç­–å¤±è¯¯æ’ä¼¤äº†è·¯äººã€‚",
                options: ["äº§å“è´£ä»»", "äº¤é€šè‚‡äº‹ç½ª", "äººå·¥æ™ºèƒ½ä¼¦ç†ä¸ç›‘ç®¡"],
                correctIndex: 0,
                explanation: "æ­£ç¡®ç­”æ¡ˆï¼šäº§å“è´£ä»»ã€‚\nè§£æï¼šç›®å‰æ³•å¾‹æ¡†æ¶ä¸‹ï¼Œè‡ªåŠ¨é©¾é©¶æ±½è½¦è¢«è§†ä¸ºâ€œäº§å“â€ã€‚å…¶é€ æˆçš„æŸå®³ä¸»è¦è¿½ç©¶ç”Ÿäº§è€…ï¼ˆæ±½è½¦åˆ¶é€ å•†æˆ–ç®—æ³•æä¾›è€…ï¼‰çš„äº§å“è´£ä»»ï¼Œé€‚ç”¨æ— è¿‡é”™è´£ä»»åŸåˆ™ã€‚åŒæ—¶ä¹Ÿå¼•å‘å¯¹AIä¼¦ç†ä¸ä¸“é—¨ç«‹æ³•çš„è®¨è®ºã€‚"
            },
            {
                scenario: "ææŸåˆ©ç”¨çˆ¬è™«æŠ€æœ¯æŠ“å–äº†æŸç”µå•†å¹³å°çš„å¤§é‡å•†å“æ•°æ®å’Œç”¨æˆ·è¯„ä»·ï¼Œç”¨äºè‡ªå·±å…¬å¸çš„å¸‚åœºåˆ†æã€‚",
                options: ["åä¸æ­£å½“ç«äº‰æ³•", "ç½‘ç»œå®‰å…¨æ³•", "å•†ä¸šç§˜å¯†"],
                correctIndex: 0,
                explanation: "æ­£ç¡®ç­”æ¡ˆï¼šåä¸æ­£å½“ç«äº‰æ³•ã€‚\nè§£æï¼šæ­¤è¡Œä¸ºå¾ˆå¯èƒ½è¿åã€Šåä¸æ­£å½“ç«äº‰æ³•ã€‹ï¼Œæ„æˆâ€œç ´åä»–äººç½‘ç»œäº§å“æˆ–æœåŠ¡æ­£å¸¸è¿è¡Œâ€æˆ–â€œéæ³•ä½¿ç”¨ä»–äººå•†ä¸šæ•°æ®â€çš„ä¸æ­£å½“ç«äº‰è¡Œä¸ºã€‚åŒæ—¶ä¹Ÿå¯èƒ½è¿åã€Šç½‘ç»œå®‰å…¨æ³•ã€‹ä¸­å…³äºæ•°æ®å®‰å…¨çš„è§„å®šã€‚"
            }
        ];

        // è·å–DOMå…ƒç´ 
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const successScreen = document.getElementById('success-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const scenarioText = document.getElementById('scenario-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackText = document.getElementById('feedback-text');
        const progressText = document.getElementById('progress-text');
        const loadingIndicator = document.getElementById('loading');

        // æ¸¸æˆçŠ¶æ€å˜é‡
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let consecutiveCorrect = 0;

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            loadingIndicator.style.display = 'block';
            scenarioText.textContent = '';
            optionsContainer.innerHTML = '';
            
            // éšæœºæŠ½å–3ä¸ªä¸é‡å¤çš„é¢˜ç›®
            currentQuestions = [...questionBank].sort(() => 0.5 - Math.random()).slice(0, 3);
            currentQuestionIndex = 0;
            consecutiveCorrect = 0;
            
            // çŸ­æš‚å»¶è¿Ÿåæ˜¾ç¤ºé¢˜ç›®ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
                displayQuestion();
                updateProgress();
            }, 600);
        }

        // æ˜¾ç¤ºå½“å‰é¢˜ç›®
        function displayQuestion() {
            const currentQ = currentQuestions[currentQuestionIndex];
            scenarioText.textContent = currentQ.scenario;
            optionsContainer.innerHTML = '';
            feedbackText.style.display = 'none';

            currentQ.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn');
                button.addEventListener('click', () => checkAnswer(index));
                optionsContainer.appendChild(button);
            });
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedIndex) {
            const currentQ = currentQuestions[currentQuestionIndex];
            const optionButtons = document.querySelectorAll('.option-btn');
            const correctIndex = currentQ.correctIndex;

            // ç¦ç”¨æ‰€æœ‰æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
            optionButtons.forEach(btn => btn.disabled = true);

            // æ˜¾ç¤ºæ­£ç¡®å’Œé”™è¯¯ç­”æ¡ˆçš„é¢œè‰²åé¦ˆ
            optionButtons[correctIndex].classList.add('correct');
            if (selectedIndex !== correctIndex) {
                optionButtons[selectedIndex].classList.add('incorrect');
                consecutiveCorrect = 0; // ç­”é”™é‡ç½®è¿ç»­è®¡æ•°
            } else {
                consecutiveCorrect++; // ç­”å¯¹å¢åŠ è¿ç»­è®¡æ•°
            }

            // æ˜¾ç¤ºè§£æ
            feedbackText.textContent = currentQ.explanation;
            feedbackText.style.display = 'block';

            // æ›´æ–°è¿›åº¦
            updateProgress();

            // ä¸‹ä¸€é¢˜æˆ–åˆ¤æ–­æˆåŠŸ
            setTimeout(() => {
                if (consecutiveCorrect >= 3) {
                    // è¿ç»­ç­”å¯¹3é¢˜ï¼ŒæŒ‘æˆ˜æˆåŠŸ
                    gameScreen.classList.remove('active');
                    setTimeout(() => {
                        gameScreen.style.display = 'none';
                        successScreen.style.display = 'block';
                        setTimeout(() => successScreen.classList.add('active'), 50);
                    }, 500);
                } else if (currentQuestionIndex < currentQuestions.length - 1) {
                    // è¿˜æœ‰é¢˜ç›®ï¼Œç»§ç»­
                    currentQuestionIndex++;
                    displayQuestion();
                } else {
                    // é¢˜ç›®ç­”å®Œä½†æœªè¿ç»­ç­”å¯¹3é¢˜ï¼Œé‡æ–°æŒ‘æˆ˜
                    alert(`å¾ˆé—æ†¾ï¼æ‚¨æœªèƒ½è¿ç»­ç­”å¯¹3é¢˜ã€‚è¯·é‡æ–°æŒ‘æˆ˜ã€‚`);
                    resetGame();
                }
            }, 4000); // æ˜¾ç¤ºè§£æ4ç§’åè‡ªåŠ¨ä¸‹ä¸€é¢˜
        }

        // æ›´æ–°è¿›åº¦æ˜¾ç¤º
        function updateProgress() {
            progressText.textContent = `è¿›åº¦: ${consecutiveCorrect}/3`;
        }

        // é‡ç½®æ¸¸æˆåˆ°å¼€å§‹ç•Œé¢
        function resetGame() {
            gameScreen.classList.remove('active');
            successScreen.classList.remove('active');
            
            setTimeout(() => {
                gameScreen.style.display = 'none';
                successScreen.style.display = 'none';
                startScreen.style.display = 'block';
            }, 500);
        }

        // äº‹ä»¶ç›‘å¬
        startBtn.addEventListener('click', () => {
            startScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            setTimeout(() => gameScreen.classList.add('active'), 50);
            initGame();
        });

        restartBtn.addEventListener('click', resetGame);

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('æ¸¸æˆåŠ è½½å®Œæˆï¼Œå‡†å¤‡å°±ç»ª');
        });
    </script>
</body>
</html>
